<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìƒì„¸ ë¶„ì„ ê²°ê³¼ - XAI ê¸ˆìœµ ì‚¬ê¸° íƒì§€ ì‹œìŠ¤í…œ</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      .nav-bar {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        padding: 15px 0;
        margin-bottom: 30px;
        border-radius: 15px;
      }

      .nav-bar .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .nav-bar a {
        color: white;
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 25px;
        transition: all 0.3s ease;
      }

      .nav-bar a:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .nav-bar a.active {
        background: rgba(255, 255, 255, 0.3);
      }

      .header {
        text-align: center;
        margin-bottom: 40px;
        color: white;
      }

      .header h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 10px;
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.1rem;
        opacity: 0.9;
        font-weight: 300;
      }

      .chart-container {
        position: relative;
        height: 300px;
        margin-bottom: 20px;
      }

      .feature-breakdown {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .feature-breakdown h2 {
        font-size: 1.8rem;
        margin-bottom: 20px;
        color: #2d3748;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .feature-detail {
        background: #f7fafc;
        padding: 20px;
        border-radius: 15px;
        margin-bottom: 20px;
        border-left: 4px solid #667eea;
      }

      .feature-detail h3 {
        color: #2d3748;
        margin-bottom: 15px;
        font-size: 1.2rem;
      }

      .feature-detail p {
        color: #718096;
        line-height: 1.6;
        margin-bottom: 10px;
      }

      .feature-detail ul {
        margin-left: 20px;
        color: #718096;
      }

      .feature-detail li {
        margin-bottom: 5px;
      }

      .shap-visualization {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .shap-visualization h2 {
        font-size: 1.8rem;
        margin-bottom: 20px;
        color: #2d3748;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .shap-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin-bottom: 20px;
      }

      .shap-image {
        text-align: center;
        margin: 20px 0;
      }

      .shap-image img {
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .performance-metrics {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .performance-metrics h2 {
        font-size: 1.8rem;
        margin-bottom: 20px;
        color: #2d3748;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .metric-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        border-bottom: 1px solid #e2e8f0;
      }

      .metric-item:last-child {
        border-bottom: none;
      }

      .metric-name {
        font-weight: 500;
        color: #2d3748;
      }

      .metric-value {
        font-weight: 700;
        color: #667eea;
        font-size: 1.1rem;
      }

      .footer {
        text-align: center;
        color: white;
        opacity: 0.8;
        margin-top: 40px;
      }

      @media (max-width: 768px) {
        .analysis-grid {
          grid-template-columns: 1fr;
        }

        .header h1 {
          font-size: 2rem;
        }
      }

      .highlight-box {
        background: linear-gradient(135deg, #48bb78, #38a169);
        color: white;
        padding: 20px;
        border-radius: 15px;
        margin-bottom: 20px;
        text-align: center;
      }

      .highlight-box h3 {
        font-size: 1.3rem;
        margin-bottom: 10px;
      }

      .highlight-box p {
        opacity: 0.9;
        line-height: 1.5;
      }

      .shap-analysis {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .shap-analysis h2 {
        font-size: 1.8rem;
        margin-bottom: 20px;
        color: #2d3748;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .feature-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 25px;
        margin-bottom: 30px;
      }

      .feature-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #e2e8f0;
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
      }

      .feature-card.primary {
        border-top: 4px solid #e53e3e;
      }

      .feature-card.secondary {
        border-top: 4px solid #ed8936;
      }

      .feature-card.tertiary {
        border-top: 4px solid #ecc94b;
      }

      .feature-more-section {
        text-align: center;
        margin-top: 20px;
      }

      .btn-secondary {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      }

      .btn-secondary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      .btn-secondary.expanded {
        background: linear-gradient(135deg, #ed8936, #dd6b20);
      }

      .btn-secondary.expanded:hover {
        box-shadow: 0 6px 20px rgba(237, 137, 54, 0.4);
      }

      .feature-header {
        background: linear-gradient(135deg, #f7fafc, #edf2f7);
        padding: 20px;
        border-bottom: 1px solid #e2e8f0;
        position: relative;
      }

      .feature-number {
        position: absolute;
        top: 15px;
        right: 20px;
        width: 30px;
        height: 30px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.9rem;
      }

      .feature-header h3 {
        color: #2d3748;
        margin: 0 0 10px 0;
        font-size: 1.2rem;
        font-weight: 600;
      }

      .shap-value {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        display: inline-block;
      }

      .feature-content {
        padding: 20px;
      }

      .feature-description {
        color: #4a5568;
        line-height: 1.6;
        margin-bottom: 20px;
        font-size: 0.95rem;
        font-style: italic;
      }

      .feature-pattern h4 {
        color: #2d3748;
        margin-bottom: 10px;
        font-size: 1rem;
        font-weight: 600;
      }

      .feature-pattern p {
        color: #4a5568;
        line-height: 1.5;
        margin-bottom: 15px;
        font-size: 0.9rem;
      }

      .feature-pattern ul {
        margin-left: 20px;
        color: #4a5568;
      }

      .feature-pattern li {
        margin-bottom: 8px;
        line-height: 1.5;
        font-size: 0.9rem;
      }
    </style>
  </head>
  <body>
    <div class="nav-bar">
      <div class="container">
        <a href="index.html"><i class="fas fa-home"></i> í™ˆ</a>
        <a href="analysis.html" class="active"
          ><i class="fas fa-chart-bar"></i> ìƒì„¸ ë¶„ì„</a
        >
        <a href="reports.html"><i class="fas fa-file-alt"></i> ë³´ê³ ì„œ ìƒì„±</a>
        <a href="#"><i class="fas fa-cog"></i> ì„¤ì •</a>
      </div>
    </div>

    <div class="container">
      <div class="header">
        <h1><i class="fas fa-chart-line"></i> ìƒì„¸ ë¶„ì„ ê²°ê³¼</h1>
        <p>XAI ëª¨ë¸ì˜ ì„±ëŠ¥ê³¼ SHAP ë¶„ì„ ê²°ê³¼ë¥¼ ìì„¸íˆ ì‚´í´ë³´ì„¸ìš”</p>
      </div>

      <div class="highlight-box">
        <h3>ğŸ¯ í•µì‹¬ ì„±ê³¼ ìš”ì•½</h3>
        <p>
          PaySim ì „ì²´ ë°ì´í„°(636ë§Œ ê±´) ì¤‘ 127ë§Œ ê±´ìœ¼ë¡œ ì‹¤í—˜í•˜ì—¬ 95.1%ì˜ ì¬í˜„ìœ¨ê³¼
          86.7%ì˜ ì •ë°€ë„ë¡œ ì‚¬ê¸° ê±°ë˜ë¥¼ ì •í™•í•˜ê²Œ íƒì§€í–ˆìŠµë‹ˆë‹¤.
        </p>
      </div>

      <div class="shap-visualization">
        <h2><i class="fas fa-microscope"></i> ì „ì²´ SHAP ì‹œê°í™” ê²°ê³¼</h2>
        <p style="color: #718096; margin-bottom: 20px">
          ì „ì²´ ë°ì´í„°ì…‹ì— ëŒ€í•œ SHAP ë¶„ì„ ê²°ê³¼
        </p>

        <div class="shap-grid">
          <div class="shap-image">
            <h3>SHAP Bar Plot - í”¼ì²˜ ì¤‘ìš”ë„</h3>
            <img
              src="images/shap_bar.png"
              alt="SHAP Bar Plot"
              style="
                max-width: 100%;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              "
              onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
            />
            <div
              style="
                display: none;
                background: #f7fafc;
                padding: 40px;
                border-radius: 10px;
                border: 2px dashed #cbd5e0;
              "
            >
              <h4
                style="text-align: center; color: #718096; margin-bottom: 15px"
              >
                SHAP Bar Plot
              </h4>
              <p style="text-align: center; color: #718096; font-size: 0.9rem">
                ê° í”¼ì²˜ê°€ ëª¨ë¸ ì˜ˆì¸¡ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ë ¥ì„ SHAP ê°’ìœ¼ë¡œ ì •ëŸ‰í™”í•œ
                ì°¨íŠ¸ì…ë‹ˆë‹¤.
              </p>
            </div>
            <p style="margin-top: 10px; color: #718096; font-size: 0.9rem">
              ê° í”¼ì²˜ê°€ ëª¨ë¸ ì˜ˆì¸¡ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ë ¥ì„ SHAP ê°’ìœ¼ë¡œ ì •ëŸ‰í™”
            </p>
          </div>

          <div class="shap-image">
            <h3>SHAP Beeswarm Plot - í”¼ì²˜ë³„ ë¶„í¬</h3>
            <img
              src="images/shap_bee.png"
              alt="SHAP Beeswarm Plot"
              style="
                max-width: 100%;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              "
              onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
            />
            <div
              style="
                display: none;
                background: #f7fafc;
                padding: 40px;
                border-radius: 10px;
                border: 2px dashed #cbd5e0;
              "
            >
              <h4
                style="text-align: center; color: #718096; margin-bottom: 15px"
              >
                SHAP Beeswarm Plot
              </h4>
              <p style="text-align: center; color: #718096; font-size: 0.9rem">
                í”¼ì²˜ ê°’ê³¼ SHAP ê°’ì˜ ê´€ê³„ë¥¼ ë³´ì—¬ì£¼ëŠ” ë¶„í¬ë„ì…ë‹ˆë‹¤.
              </p>
            </div>
            <p style="margin-top: 10px; color: #718096; font-size: 0.9rem">
              í”¼ì²˜ ê°’ê³¼ SHAP ê°’ì˜ ê´€ê³„ë¥¼ ë³´ì—¬ì£¼ëŠ” ë¶„í¬ë„
            </p>
          </div>
        </div>
      </div>

      <div class="feature-breakdown">
        <h2><i class="fas fa-lightbulb"></i> ì£¼ìš” í”¼ì²˜ ì„¤ëª…</h2>
        <p style="color: #718096; margin-bottom: 25px; text-align: center">
          ì‚¬ê¸° íƒì§€ì— ê°€ì¥ ì¤‘ìš”í•œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì£¼ìš” íŠ¹ì„±ë“¤ì„ ì„¤ëª…í•©ë‹ˆë‹¤
        </p>

        <div class="feature-cards" id="featureCards">
          <div class="feature-card primary">
            <div class="feature-header">
              <div class="feature-number">1</div>
              <h3>í˜„ê¸ˆ ì…ê¸ˆ ìœ í˜•</h3>
              <div class="shap-value">SHAP: 174,645</div>
            </div>
            <div class="feature-content">
              <p class="feature-description">
                í˜„ê¸ˆ ì…ê¸ˆ ê±°ë˜ ìœ í˜•ì´ ì‚¬ê¸° íƒì§€ì— ë¯¸ì¹˜ëŠ” ì˜í–¥
              </p>
              <div class="feature-pattern">
                <h4>ğŸ” ì‚¬ê¸° íŒ¨í„´</h4>
                <p>"ëŒ€ê·œëª¨ í˜„ê¸ˆ ì…ê¸ˆ â†’ ì¦‰ì‹œ ì¸ì¶œ" íŒ¨í„´ì´ ì‚¬ê¸°ì˜ ì „í˜•ì  íŠ¹ì§•</p>
                <ul>
                  <li>ì”ì•¡ 0ì› ê³„ì¢Œì— 1000ë§Œì› ì…ê¸ˆ í›„ 1ì‹œê°„ ë‚´ ì „ì•¡ ì¶œê¸ˆ</li>
                  <li>ë¹„ì •ìƒì ìœ¼ë¡œ ì¦ì€ CASH_IN ê±°ë˜ ë°œìƒ</li>
                  <li>ì…ê¸ˆê³¼ ì¶œê¸ˆì˜ ì‹œê°„ ê°„ê²©ì´ ë§¤ìš° ì§§ìŒ</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="feature-card secondary">
            <div class="feature-header">
              <div class="feature-number">2</div>
              <h3>ì”ì•¡ ëŒ€ë¹„ ê±°ë˜ ê¸ˆì•¡ ë¹„ìœ¨</h3>
              <div class="shap-value">SHAP: 90,060</div>
            </div>
            <div class="feature-content">
              <p class="feature-description">ê±°ë˜ ê¸ˆì•¡ê³¼ ê³„ì¢Œ ì”ì•¡ ê°„ì˜ ë¹„ìœ¨</p>
              <div class="feature-pattern">
                <h4>ğŸ” ì‚¬ê¸° íŒ¨í„´</h4>
                <p>ì”ì•¡ì— ë¹„í•´ ë¹„ì •ìƒì ìœ¼ë¡œ í° ê¸ˆì•¡ì„ ê±°ë˜í•˜ëŠ” ê²½ìš°</p>
                <ul>
                  <li>ì”ì•¡ 10ë§Œì›ì¸ë° 1000ë§Œì› ê±°ë˜ (ë¹„ìœ¨ 100:1)</li>
                  <li>ì¼ë°˜ì ì¸ ê±°ë˜ íŒ¨í„´ê³¼ ë¹„êµí–ˆì„ ë•Œ ê¸‰ê²©í•œ ë¹„ìœ¨ ì¦ê°€</li>
                  <li>ê³„ì¢Œ ì”ì•¡ ëŒ€ë¹„ ê±°ë˜ ê¸ˆì•¡ì˜ ë¹„ì •ìƒì  ë¹„ìœ¨</li>
                </ul>
              </div>
            </div>
          </div>

          <div class="feature-card tertiary">
            <div class="feature-header">
              <div class="feature-number">3</div>
              <h3>ì†¡ê¸ˆì¸ ê³„ì¢Œ ì”ì•¡</h3>
              <div class="shap-value">SHAP: 40,125</div>
            </div>
            <div class="feature-content">
              <p class="feature-description">ì†¡ê¸ˆì¸ ê³„ì¢Œì˜ ê±°ë˜ ì „ ì”ì•¡</p>
              <div class="feature-pattern">
                <h4>ğŸ” ì‚¬ê¸° íŒ¨í„´</h4>
                <p>ì‚¬ê¸° ê³„ì¢ŒëŠ” ë³´í†µ ë‚®ì€ ì”ì•¡ì´ë‚˜ ë¶ˆê·œì¹™í•œ íŒ¨í„´ì„ ë³´ì„</p>
                <ul>
                  <li>ì”ì•¡ì´ 0ì›ì´ê±°ë‚˜ ë§¤ìš° ë‚®ì€ ìƒíƒœì—ì„œ ëŒ€ê·œëª¨ ê±°ë˜ ë°œìƒ</li>
                  <li>ì”ì•¡ ë³€í™”ê°€ ê¸‰ê²©í•˜ê³  ë¶ˆê·œì¹™í•¨</li>
                  <li>ì •ìƒì ì¸ ì”ì•¡ ìœ ì§€ íŒ¨í„´ê³¼ì˜ ì°¨ì´</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div
          class="feature-more-section"
          style="text-align: center; margin-top: 20px"
        >
          <button
            id="showMoreFeatures"
            class="btn-secondary"
            onclick="toggleFeatureList()"
          >
            <i class="fas fa-chevron-down"></i> ë”ë³´ê¸°
          </button>
        </div>
      </div>

      <div class="shap-analysis">
        <h2><i class="fas fa-microscope"></i> ê°œë³„ ê±°ë˜ SHAP ë¶„ì„</h2>
        <p style="color: #718096; margin-bottom: 20px">
          ì£¼ìš” ì˜ì‹¬ê±°ë˜ì— ëŒ€í•œ ëª¨ë¸ì˜ íŒë‹¨ ê·¼ê±° ë¶„ì„
        </p>

        <div class="feature-cards" id="shapCards">
          <div class="feature-card primary" data-transaction="9770">
            <div class="feature-header">
              <div class="feature-number">1</div>
              <h3>ê±°ë˜ #9770 âœ…</h3>
              <div class="shap-value">ì‚¬ê¸° í™•ë¥ : 95.2%</div>
            </div>
            <div class="feature-content">
              <div class="feature-description">
                <p><strong>ì˜ˆì¸¡:</strong> ì‚¬ê¸° | <strong>ì‹¤ì œ:</strong> ì‚¬ê¸°</p>
                <p><strong>ì£¼ìš” ê·¼ê±°:</strong></p>
                <ul>
                  <li>type_CASH_IN: +39,461</li>
                  <li>amount_to_balance_ratio: +30,624</li>
                  <li>oldbalanceOrg: +21,934</li>
                </ul>
              </div>
              <div class="feature-pattern">
                <h4>ğŸ” SHAP Waterfall Plot</h4>
                <img
                  src="images/individual_shap_transaction_9770.png"
                  alt="ê±°ë˜ #9770 SHAP ë¶„ì„"
                  style="
                    max-width: 100%;
                    border-radius: 8px;
                    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                    margin-top: 15px;
                  "
                  onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                />
                <div
                  style="
                    display: none;
                    background: #f7fafc;
                    padding: 20px;
                    border-radius: 8px;
                    border: 2px dashed #cbd5e0;
                    margin-top: 15px;
                  "
                >
                  <h6
                    style="
                      text-align: center;
                      color: #718096;
                      margin-bottom: 10px;
                    "
                  >
                    ê±°ë˜ #9770 SHAP Waterfall Plot
                  </h6>
                  <p
                    style="
                      text-align: center;
                      color: #718096;
                      font-size: 0.8rem;
                    "
                  >
                    ì´ ê±°ë˜ì˜ ê° í”¼ì²˜ê°€ ì‚¬ê¸° íŒë‹¨ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ë ¥ì„ ë³´ì—¬ì£¼ëŠ”
                    ì°¨íŠ¸ì…ë‹ˆë‹¤.
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="feature-card secondary" data-transaction="9771">
            <div class="feature-header">
              <div class="feature-number">2</div>
              <h3>ê±°ë˜ #9771 âœ…</h3>
              <div class="shap-value">ì‚¬ê¸° í™•ë¥ : 94.8%</div>
            </div>
            <div class="feature-content">
              <div class="feature-description">
                <p><strong>ì˜ˆì¸¡:</strong> ì‚¬ê¸° | <strong>ì‹¤ì œ:</strong> ì‚¬ê¸°</p>
                <p><strong>ì£¼ìš” ê·¼ê±°:</strong></p>
                <ul>
                  <li>type_CASH_IN: +39,464</li>
                  <li>amount_to_balance_ratio: +30,702</li>
                  <li>oldbalanceOrg: +18,160</li>
                </ul>
              </div>
              <div class="feature-pattern">
                <h4>ğŸ” SHAP Waterfall Plot</h4>
                <img
                  src="images/individual_shap_transaction_9771.png"
                  alt="ê±°ë˜ #9771 SHAP ë¶„ì„"
                  style="
                    max-width: 100%;
                    border-radius: 8px;
                    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                    margin-top: 15px;
                  "
                  onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                />
                <div
                  style="
                    display: none;
                    background: #f7fafc;
                    padding: 20px;
                    border-radius: 8px;
                    border: 2px dashed #cbd5e0;
                    margin-top: 15px;
                  "
                >
                  <h6
                    style="
                      text-align: center;
                      color: #718096;
                      margin-bottom: 10px;
                    "
                  >
                    ê±°ë˜ #9771 SHAP Waterfall Plot
                  </h6>
                  <p
                    style="
                      text-align: center;
                      color: #718096;
                      font-size: 0.8rem;
                    "
                  >
                    ì´ ê±°ë˜ì˜ ê° í”¼ì²˜ê°€ ì‚¬ê¸° íŒë‹¨ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ë ¥ì„ ë³´ì—¬ì£¼ëŠ”
                    ì°¨íŠ¸ì…ë‹ˆë‹¤.
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="feature-card tertiary" data-transaction="22133">
            <div class="feature-header">
              <div class="feature-number">3</div>
              <h3>ê±°ë˜ #22133 âœ…</h3>
              <div class="shap-value">ì‚¬ê¸° í™•ë¥ : 97.3%</div>
            </div>
            <div class="feature-content">
              <div class="feature-description">
                <p><strong>ì˜ˆì¸¡:</strong> ì‚¬ê¸° | <strong>ì‹¤ì œ:</strong> ì‚¬ê¸°</p>
                <p><strong>ì£¼ìš” ê·¼ê±°:</strong></p>
                <ul>
                  <li>type_CASH_IN: +68,413</li>
                  <li>type_PAYMENT: +53,484</li>
                  <li>oldbalanceOrg: -46,158</li>
                </ul>
              </div>
              <div class="feature-pattern">
                <h4>ğŸ” SHAP Waterfall Plot</h4>
                <img
                  src="images/individual_shap_transaction_22133.png"
                  alt="ê±°ë˜ #22133 SHAP ë¶„ì„"
                  style="
                    max-width: 100%;
                    border-radius: 8px;
                    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
                    margin-top: 15px;
                  "
                  onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                />
                <div
                  style="
                    display: none;
                    background: #f7fafc;
                    padding: 20px;
                    border-radius: 8px;
                    border: 2px dashed #cbd5e0;
                    margin-top: 15px;
                  "
                >
                  <h6
                    style="
                      text-align: center;
                      color: #718096;
                      margin-bottom: 10px;
                    "
                  >
                    ê±°ë˜ #22133 SHAP Waterfall Plot
                  </h6>
                  <p
                    style="
                      text-align: center;
                      color: #718096;
                      font-size: 0.8rem;
                    "
                  >
                    ì´ ê±°ë˜ì˜ ê° í”¼ì²˜ê°€ ì‚¬ê¸° íŒë‹¨ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ë ¥ì„ ë³´ì—¬ì£¼ëŠ”
                    ì°¨íŠ¸ì…ë‹ˆë‹¤.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="feature-more-section"
          style="text-align: center; margin-top: 20px"
        >
          <button
            id="showMoreShap"
            class="btn-secondary"
            onclick="toggleShapList()"
          >
            <i class="fas fa-chevron-down"></i> ë”ë³´ê¸°
          </button>
        </div>
      </div>

      <div class="footer">
        <p>Â© 2025 XAI ê¸ˆìœµ ì‚¬ê¸° íƒì§€ ì‹œìŠ¤í…œ | ì´ì˜ˆë¦¼</p>
      </div>
    </div>

    <script>
      // ì •ë°€ë„-ì¬í˜„ìœ¨ ì„±ëŠ¥ ê³¡ì„  ì œê±°ë¨

      // í”¼ì²˜ ì¤‘ìš”ë„ ì°¨íŠ¸ ì œê±°ë¨ (SHAP Bar plotê³¼ ì¤‘ë³µ)

      // ë”ë³´ê¸° ë²„íŠ¼ í† ê¸€ í•¨ìˆ˜ë“¤
      function toggleFeatureList() {
        const button = document.getElementById("showMoreFeatures");
        const isExpanded = window.isFeatureListExpanded;

        if (!isExpanded) {
          // ì „ì²´ í”¼ì²˜ í‘œì‹œ
          button.innerHTML = '<i class="fas fa-chevron-up"></i> ì ‘ê¸°';
          button.classList.add("expanded");
          window.isFeatureListExpanded = true;
        } else {
          // ìƒìœ„ 3ê°œë§Œ í‘œì‹œ
          button.innerHTML = '<i class="fas fa-chevron-down"></i> ë”ë³´ê¸°';
          button.classList.remove("expanded");
          window.isFeatureListExpanded = false;
        }
      }

      function toggleShapList() {
        const button = document.getElementById("showMoreShap");
        const isExpanded = window.isShapListExpanded;

        if (!isExpanded) {
          // ì „ì²´ SHAP ë¶„ì„ í‘œì‹œ
          button.innerHTML = '<i class="fas fa-chevron-up"></i> ì ‘ê¸°';
          button.classList.add("expanded");
          window.isShapListExpanded = true;
        } else {
          // ìƒìœ„ 3ê°œë§Œ í‘œì‹œ
          button.innerHTML = '<i class="fas fa-chevron-down"></i> ë”ë³´ê¸°';
          button.classList.remove("expanded");
          window.isShapListExpanded = false;
        }
      }

      // ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼
      document.addEventListener("DOMContentLoaded", function () {
        const cards = document.querySelectorAll(
          ".feature-breakdown, .shap-visualization, .feature-card, .shap-analysis"
        );

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateY(0)";
            }
          });
        });

        cards.forEach((card) => {
          card.style.opacity = "0";
          card.style.transform = "translateY(20px)";
          card.style.transition = "opacity 0.6s ease, transform 0.6s ease";
          observer.observe(card);
        });

        // ë”ë³´ê¸° ë²„íŠ¼ ì´ˆê¸°í™”
        window.isFeatureListExpanded = false;
        window.isShapListExpanded = false;
      });
    </script>
  </body>
</html>

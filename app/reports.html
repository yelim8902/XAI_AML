<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LLM ê¸°ë°˜ ë³´ê³ ì„œ ìƒì„± - XAI ê¸ˆìœµ ì‚¬ê¸° íƒì§€ ì‹œìŠ¤í…œ</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        color: #333;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      .nav-bar {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        padding: 15px 0;
        margin-bottom: 30px;
        border-radius: 15px;
      }

      .nav-bar .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .nav-bar a {
        color: white;
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 25px;
        transition: all 0.3s ease;
      }

      .nav-bar a:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      .nav-bar a.active {
        background: rgba(255, 255, 255, 0.3);
      }

      .header {
        text-align: center;
        margin-bottom: 40px;
        color: white;
      }

      .header h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 10px;
        text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.1rem;
        opacity: 0.9;
        font-weight: 300;
      }

      .report-generator {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .report-generator h2 {
        font-size: 1.8rem;
        margin-bottom: 20px;
        color: #2d3748;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .input-section {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 30px;
      }

      .input-group {
        display: flex;
        flex-direction: column;
      }

      .input-group label {
        font-weight: 500;
        margin-bottom: 8px;
        color: #2d3748;
      }

      .input-group input,
      .input-group select {
        padding: 12px;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        font-size: 1rem;
        transition: border-color 0.3s ease;
      }

      .input-group input:focus,
      .input-group select:focus {
        outline: none;
        border-color: #667eea;
      }

      .generate-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        width: 100%;
        margin-bottom: 20px;
      }

      .generate-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
      }

      .generate-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      .loading {
        display: none;
        text-align: center;
        margin: 20px 0;
      }

      .loading i {
        font-size: 2rem;
        color: #667eea;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .report-result {
        background: #f7fafc;
        padding: 25px;
        border-radius: 15px;
        border-left: 4px solid #667eea;
        margin-top: 20px;
        display: none;
      }

      .report-result h3 {
        color: #2d3748;
        margin-bottom: 15px;
        font-size: 1.3rem;
      }

      .report-content {
        background: white;
        padding: 20px;
        border-radius: 10px;
        border: 1px solid #e2e8f0;
        line-height: 1.6;
        color: #2d3748;
      }

      .report-actions {
        display: flex;
        gap: 15px;
        margin-top: 20px;
      }

      .action-btn {
        padding: 10px 20px;
        border: none;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .download-btn {
        background: #48bb78;
        color: white;
      }

      .download-btn:hover {
        background: #38a169;
      }

      .copy-btn {
        background: #667eea;
        color: white;
      }

      .copy-btn:hover {
        background: #5a67d8;
      }

      .sample-reports {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      .sample-reports h2 {
        font-size: 1.8rem;
        margin-bottom: 20px;
        color: #2d3748;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .sample-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
      }

      .sample-card {
        background: #f7fafc;
        padding: 20px;
        border-radius: 15px;
        border-left: 4px solid #48bb78;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .sample-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      }

      .sample-card h4 {
        color: #2d3748;
        margin-bottom: 10px;
        font-size: 1.1rem;
      }

      .sample-card p {
        color: #718096;
        font-size: 0.9rem;
        line-height: 1.5;
      }

      .footer {
        text-align: center;
        color: white;
        opacity: 0.8;
        margin-top: 40px;
      }

      /* í˜ì´ì§€ ì„¤ëª… ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
      .page-description {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        padding: 25px;
        border-radius: 15px;
        margin-bottom: 30px;
        color: white;
        text-align: center;
      }

      .page-description h3 {
        margin-bottom: 20px;
        font-size: 1.3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .description-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .description-item {
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 10px;
        transition: transform 0.3s ease;
      }

      .description-item:hover {
        transform: translateY(-2px);
      }

      .description-item i {
        font-size: 1.5rem;
        margin-bottom: 10px;
        display: block;
        color: #667eea;
      }

      .description-item strong {
        color: white;
        font-size: 1rem;
      }

      .description-item small {
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.85rem;
        line-height: 1.4;
      }

      .description-tip {
        margin-top: 20px;
        opacity: 0.9;
        font-size: 0.95rem;
        padding: 15px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
      }

      @media (max-width: 768px) {
        .input-section {
          grid-template-columns: 1fr;
        }

        .header h1 {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="nav-bar">
      <div class="container">
        <a href="index.html"><i class="fas fa-home"></i> í™ˆ</a>
        <a href="analysis.html"><i class="fas fa-chart-bar"></i> ìƒì„¸ ë¶„ì„</a>
        <a href="reports.html" class="active"
          ><i class="fas fa-file-alt"></i> ë³´ê³ ì„œ ìƒì„±</a
        >
        <a href="#"><i class="fas fa-cog"></i> ì„¤ì •</a>
      </div>
    </div>

    <div class="container">
      <div class="header">
        <h1><i class="fas fa-robot"></i> LLM ê¸°ë°˜ ë³´ê³ ì„œ ìƒì„±</h1>
        <p>
          AIê°€ SHAP ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì „ë¬¸ì ì¸ ê¸ˆìœµ ì‚¬ê¸° íƒì§€ ë³´ê³ ì„œë¥¼
          ì‘ì„±í•©ë‹ˆë‹¤
        </p>
      </div>

      <!-- í˜ì´ì§€ ì„¤ëª… ì„¹ì…˜ ì¶”ê°€ -->
      <div class="page-description">
        <h3>
          <i class="fas fa-info-circle"></i> ì´ í˜ì´ì§€ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤
        </h3>
        <div class="description-grid">
          <div class="description-item">
            <i class="fas fa-magic"></i>
            <strong>AI ë³´ê³ ì„œ ìƒì„±</strong><br />
            <small
              >ê±°ë˜ IDì™€ ë³´ê³ ì„œ ìœ í˜•ì„ ì„ íƒí•˜ì—¬ ì „ë¬¸ ë³´ê³ ì„œ ìë™ ìƒì„±</small
            >
          </div>
          <div class="description-item">
            <i class="fas fa-lightbulb"></i>
            <strong>ìƒ˜í”Œ ë³´ê³ ì„œ</strong><br />
            <small>3ê°€ì§€ ê±°ë˜ì— ëŒ€í•œ ë¯¸ë¦¬ ìƒì„±ëœ ì „ë¬¸ ë¶„ì„ ë³´ê³ ì„œ</small>
          </div>
          <div class="description-item">
            <i class="fas fa-download"></i>
            <strong>ë‹¤ìš´ë¡œë“œ/ë³µì‚¬</strong><br />
            <small
              >ìƒì„±ëœ ë³´ê³ ì„œë¥¼ í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ ì €ì¥í•˜ê±°ë‚˜ í´ë¦½ë³´ë“œì— ë³µì‚¬</small
            >
          </div>
        </div>
        <p class="description-tip">
          ğŸ’¡ <strong>íŒ:</strong> í™ˆ í˜ì´ì§€ì—ì„œ ì „ì²´ ì„±ê³¼ ìš”ì•½ì„, ìƒì„¸ ë¶„ì„
          í˜ì´ì§€ì—ì„œ SHAP ë¶„ì„ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
      </div>

      <div class="report-generator">
        <h2><i class="fas fa-magic"></i> ë³´ê³ ì„œ ìƒì„±ê¸°</h2>

        <div class="input-section">
          <div class="input-group">
            <label for="transactionId">ê±°ë˜ ID</label>
            <select id="transactionId">
              <option value="">ê±°ë˜ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
              <option value="9770">ê±°ë˜ #9770 (ì‚¬ê¸° íƒì§€)</option>
              <option value="9771">ê±°ë˜ #9771 (ì‚¬ê¸° íƒì§€)</option>
              <option value="22133">ê±°ë˜ #22133 (ì‚¬ê¸° íƒì§€)</option>
            </select>
          </div>

          <div class="input-group">
            <label for="reportType">ë³´ê³ ì„œ ìœ í˜•</label>
            <select id="reportType">
              <option value="detailed">ìƒì„¸ ë¶„ì„ ë³´ê³ ì„œ</option>
              <option value="executive">ê²½ì˜ì§„ ìš”ì•½ ë³´ê³ ì„œ</option>
              <option value="regulatory">ê·œì œ ê¸°ê´€ ë³´ê³ ì„œ</option>
            </select>
          </div>
        </div>

        <button class="generate-btn" onclick="generateReport()">
          <i class="fas fa-magic"></i> AI ë³´ê³ ì„œ ìƒì„±
        </button>

        <div class="loading" id="loading">
          <i class="fas fa-spinner"></i>
          <p>AIê°€ ë³´ê³ ì„œë¥¼ ì‘ì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</p>
        </div>

        <div class="report-result" id="reportResult">
          <h3><i class="fas fa-file-alt"></i> ìƒì„±ëœ ë³´ê³ ì„œ</h3>
          <div class="report-content" id="reportContent">
            <!-- ë³´ê³ ì„œ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
          </div>

          <div class="report-actions">
            <button class="action-btn download-btn" onclick="downloadReport()">
              <i class="fas fa-download"></i> ë‹¤ìš´ë¡œë“œ
            </button>
            <button class="action-btn copy-btn" onclick="copyReport()">
              <i class="fas fa-copy"></i> ë³µì‚¬
            </button>
          </div>
        </div>
      </div>

      <div class="sample-reports">
        <h2><i class="fas fa-lightbulb"></i> ìƒ˜í”Œ ë³´ê³ ì„œ ì˜ˆì‹œ</h2>

        <div class="sample-grid">
          <div class="sample-card" onclick="loadSampleReport('9770')">
            <h4>ê±°ë˜ #9770 ë¶„ì„ ë³´ê³ ì„œ</h4>
            <p>
              í˜„ê¸ˆ ì…ê¸ˆ ìœ í˜•ê³¼ ì”ì•¡ ëŒ€ë¹„ ê±°ë˜ ê¸ˆì•¡ ë¹„ìœ¨ì´ ì£¼ìš” ìœ„í—˜ ìš”ì†Œë¡œ
              ì‘ìš©í•œ ì‚¬ë¡€ ë¶„ì„
            </p>
          </div>

          <div class="sample-card" onclick="loadSampleReport('9771')">
            <h4>ê±°ë˜ #9771 ë¶„ì„ ë³´ê³ ì„œ</h4>
            <p>
              ê³„ì¢Œ ì”ì•¡ê³¼ ê±°ë˜ íŒ¨í„´ì˜ ë¶ˆì¼ì¹˜ë¥¼ í†µí•œ ì‚¬ê¸° íƒì§€ ê³¼ì • ìƒì„¸ ë¶„ì„
            </p>
          </div>

          <div class="sample-card" onclick="loadSampleReport('22133')">
            <h4>ê±°ë˜ #22133 ë¶„ì„ ë³´ê³ ì„œ</h4>
            <p>ë³µí•©ì  ìœ„í—˜ ìš”ì†Œê°€ ê²°í•©ëœ ê³ ìœ„í—˜ ì‚¬ê¸° ê±°ë˜ì˜ ë‹¤ì°¨ì›ì  ë¶„ì„</p>
          </div>
        </div>
      </div>

      <div class="footer">
        <p>Â© 2024 XAI ê¸ˆìœµ ì‚¬ê¸° íƒì§€ ì‹œìŠ¤í…œ | ì•„ì£¼ëŒ€í•™êµ ì†Œí”„íŠ¸ì½˜ ëŒ€íšŒ</p>
      </div>
    </div>

    <script>
      // ìƒ˜í”Œ ë³´ê³ ì„œ ë°ì´í„°
      const sampleReports = {
        9770: {
          title: "ê±°ë˜ #9770 ì‚¬ê¸° íƒì§€ ë¶„ì„ ë³´ê³ ì„œ",
          content: `## ğŸš¨ ìœ„í—˜ë„ ìš”ì•½
**ìœ„í—˜ ë“±ê¸‰**: ë†’ìŒ (High Risk)
**ì‚¬ê¸° í™•ë¥ **: 95.2%
**ê¶Œì¥ ì¡°ì¹˜**: ì¦‰ì‹œ ê±°ë˜ ì¤‘ë‹¨ ë° ì¶”ê°€ ì¡°ì‚¬

## ğŸ” ì£¼ìš” íŒë‹¨ ê·¼ê±°

### 1. í˜„ê¸ˆ ì…ê¸ˆ ìœ í˜• (SHAP: +39,461)
- **ìœ„í—˜ ìš”ì†Œ**: CASH_IN ê±°ë˜ ìœ í˜•ì´ ì‚¬ê¸° íƒì§€ì— ê°€ì¥ í° ì˜í–¥
- **íŒ¨í„´ ë¶„ì„**: ëŒ€ê·œëª¨ í˜„ê¸ˆ ì…ê¸ˆ í›„ ì¦‰ì‹œ ì¸ì¶œí•˜ëŠ” ì „í˜•ì  ì‚¬ê¸° íŒ¨í„´
- **ì¼ë°˜ì  ê±°ë˜ì™€ì˜ ì°¨ì´**: ì •ìƒì ì¸ í˜„ê¸ˆ ì…ê¸ˆì€ ë³´í†µ ì†Œì•¡ì´ê±°ë‚˜ ë‹¨ê³„ì  ì§„í–‰

### 2. ì”ì•¡ ëŒ€ë¹„ ê±°ë˜ ê¸ˆì•¡ ë¹„ìœ¨ (SHAP: +30,624)
- **ìœ„í—˜ ìš”ì†Œ**: ì”ì•¡ì— ë¹„í•´ ë¹„ì •ìƒì ìœ¼ë¡œ í° ê±°ë˜ ê¸ˆì•¡
- **ì •ëŸ‰ì  ë¶„ì„**: ì¼ë°˜ì ìœ¼ë¡œ ì”ì•¡ì˜ 10-20% ë‚´ì—ì„œ ê±°ë˜í•˜ëŠ” ê²ƒì´ ì •ìƒ
- **ì´ ê±°ë˜ì˜ íŠ¹ì§•**: ì”ì•¡ ëŒ€ë¹„ 100ë°° ì´ìƒì˜ ê±°ë˜ ê¸ˆì•¡

### 3. ì†¡ê¸ˆì¸ ê³„ì¢Œ ì”ì•¡ (SHAP: +21,934)
- **ìœ„í—˜ ìš”ì†Œ**: ë‚®ì€ ê³„ì¢Œ ì”ì•¡ì—ì„œ ëŒ€ê·œëª¨ ê±°ë˜ ë°œìƒ
- **íŒ¨í„´ ë¶„ì„**: ì‚¬ê¸° ê³„ì¢Œì˜ ì „í˜•ì  íŠ¹ì§•ìœ¼ë¡œ, ìê¸ˆì„ ë¹ ë¥´ê²Œ ì†Œì§„í•˜ë ¤ëŠ” ì˜ë„
- **ì¼ë°˜ì  ê±°ë˜ì™€ì˜ ì°¨ì´**: ì •ìƒì ì¸ ëŒ€ê·œëª¨ ê±°ë˜ëŠ” ë³´í†µ ì¶©ë¶„í•œ ì”ì•¡ ìœ ì§€

## ğŸ“Š SHAP ë¶„ì„ ê²°ê³¼
ì´ ê±°ë˜ëŠ” ì„¸ ê°€ì§€ ì£¼ìš” ìœ„í—˜ ìš”ì†Œê°€ ëª¨ë‘ ë†’ì€ ìˆ˜ì¹˜ë¥¼ ë³´ì´ë©°, íŠ¹íˆ í˜„ê¸ˆ ì…ê¸ˆ ìœ í˜•ì˜ ì˜í–¥ë ¥ì´ ì••ë„ì ì…ë‹ˆë‹¤. ì´ëŠ” ì „í˜•ì ì¸ "íŒí”„ ì•¤ ë¤í”„" ì‚¬ê¸° íŒ¨í„´ê³¼ ì¼ì¹˜í•©ë‹ˆë‹¤.

## ğŸ›¡ï¸ ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­
1. **ì¦‰ì‹œ ì¡°ì¹˜**: ê±°ë˜ ì¤‘ë‹¨ ë° ê³„ì¢Œ ë™ê²°
2. **ì¶”ê°€ ì¡°ì‚¬**: ì†¡ê¸ˆì¸/ìˆ˜ì·¨ì¸ ê³„ì¢Œì˜ ê±°ë˜ ì´ë ¥ ë¶„ì„
3. **ê·œì œ ë³´ê³ **: STR(Suspicious Transaction Report) ì œì¶œ
4. **ê³ ê° ì—°ë½**: ê³„ì¢Œ ì†Œìœ ìì—ê²Œ ê±°ë˜ í™•ì¸ ìš”ì²­

## ğŸ“ˆ í–¥í›„ ëª¨ë‹ˆí„°ë§
- ìœ ì‚¬í•œ íŒ¨í„´ì˜ ê±°ë˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ì•Œë¦¼
- ê³„ì¢Œë³„ ìœ„í—˜ë„ ì ìˆ˜ ì§€ì†ì  ì—…ë°ì´íŠ¸
- ì‚¬ê¸° íŒ¨í„´ ë°ì´í„°ë² ì´ìŠ¤ì— ìƒˆë¡œìš´ íŒ¨í„´ ì¶”ê°€`,
        },
        9771: {
          title: "ê±°ë˜ #9771 ì‚¬ê¸° íƒì§€ ë¶„ì„ ë³´ê³ ì„œ",
          content: `## ğŸš¨ ìœ„í—˜ë„ ìš”ì•½
**ìœ„í—˜ ë“±ê¸‰**: ë†’ìŒ (High Risk)
**ì‚¬ê¸° í™•ë¥ **: 94.8%
**ê¶Œì¥ ì¡°ì¹˜**: ê±°ë˜ ì¤‘ë‹¨ ë° ì‹¬ì¸µ ì¡°ì‚¬

## ğŸ” ì£¼ìš” íŒë‹¨ ê·¼ê±°

### 1. í˜„ê¸ˆ ì…ê¸ˆ ìœ í˜• (SHAP: +39,464)
- **ìœ„í—˜ ìš”ì†Œ**: CASH_IN ê±°ë˜ ìœ í˜•ì˜ ë†’ì€ ì˜í–¥ë ¥
- **íŒ¨í„´ ë¶„ì„**: ê±°ë˜ #9770ê³¼ ìœ ì‚¬í•œ ì‚¬ê¸° íŒ¨í„´
- **ì—°ê´€ì„±**: ë™ì¼í•œ ì‚¬ê¸° ì¡°ì§ì˜ í™œë™ ê°€ëŠ¥ì„±

### 2. ì”ì•¡ ëŒ€ë¹„ ê±°ë˜ ê¸ˆì•¡ ë¹„ìœ¨ (SHAP: +30,702)
- **ìœ„í—˜ ìš”ì†Œ**: ê·¹ë„ë¡œ ë†’ì€ ê±°ë˜ ê¸ˆì•¡ ë¹„ìœ¨
- **ì •ëŸ‰ì  ë¶„ì„**: ì¼ë°˜ì ì¸ ê±°ë˜ ë²”ìœ„ë¥¼ í¬ê²Œ ë²—ì–´ë‚¨
- **ì‚¬ê¸° ì§€í‘œ**: ì”ì•¡ ëŒ€ë¹„ 150ë°° ì´ìƒì˜ ê±°ë˜

### 3. ì†¡ê¸ˆì¸ ê³„ì¢Œ ì”ì•¡ (SHAP: +18,160)
- **ìœ„í—˜ ìš”ì†Œ**: ë¶ˆê·œì¹™í•œ ì”ì•¡ íŒ¨í„´
- **íŒ¨í„´ ë¶„ì„**: ê¸‰ê²©í•œ ì”ì•¡ ë³€í™”ì™€ ëŒ€ê·œëª¨ ê±°ë˜ì˜ ë¶ˆì¼ì¹˜
- **ì¼ë°˜ì  ê±°ë˜ì™€ì˜ ì°¨ì´**: ì •ìƒì ì¸ ëŒ€ê·œëª¨ ê±°ë˜ëŠ” ì•ˆì •ì ì¸ ì”ì•¡ ìœ ì§€

## ğŸ“Š SHAP ë¶„ì„ ê²°ê³¼
ì´ ê±°ë˜ëŠ” ê±°ë˜ #9770ê³¼ ë§¤ìš° ìœ ì‚¬í•œ íŒ¨í„´ì„ ë³´ì´ë©°, ë™ì¼í•œ ì‚¬ê¸° ì¡°ì§ì˜ í™œë™ì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. íŠ¹íˆ í˜„ê¸ˆ ì…ê¸ˆ ìœ í˜•ì˜ ì˜í–¥ë ¥ì´ ì••ë„ì ì…ë‹ˆë‹¤.

## ğŸ›¡ï¸ ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­
1. **ì¦‰ì‹œ ì¡°ì¹˜**: ê±°ë˜ ì¤‘ë‹¨ ë° ê³„ì¢Œ ë™ê²°
2. **ì—°ê´€ì„± ë¶„ì„**: ê±°ë˜ #9770ê³¼ì˜ ì—°ê´€ì„± ì¡°ì‚¬
3. **ì¡°ì§ì  ì‚¬ê¸° íƒì§€**: ë™ì¼í•œ íŒ¨í„´ì˜ ë‹¤ë¥¸ ê±°ë˜ ê²€ìƒ‰
4. **ê·œì œ ë³´ê³ **: STR ì œì¶œ ë° ìˆ˜ì‚¬ ê¸°ê´€ ì—°ë½

## ğŸ“ˆ í–¥í›„ ëª¨ë‹ˆí„°ë§
- ìœ ì‚¬í•œ íŒ¨í„´ì˜ ê±°ë˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ì•Œë¦¼
- ì¡°ì§ì  ì‚¬ê¸° í™œë™ íŒ¨í„´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•
- ê³„ì¢Œ ê°„ ì—°ê´€ì„± ë¶„ì„ ê°•í™”`,
        },
        22133: {
          title: "ê±°ë˜ #22133 ì‚¬ê¸° íƒì§€ ë¶„ì„ ë³´ê³ ì„œ",
          content: `## ğŸš¨ ìœ„í—˜ë„ ìš”ì•½
**ìœ„í—˜ ë“±ê¸‰**: ë§¤ìš° ë†’ìŒ (Critical Risk)
**ì‚¬ê¸° í™•ë¥ **: 97.3%
**ê¶Œì¥ ì¡°ì¹˜**: ì¦‰ì‹œ ê¸´ê¸‰ ì¡°ì¹˜ ë° ìˆ˜ì‚¬ ê¸°ê´€ ì—°ë½

## ğŸ” ì£¼ìš” íŒë‹¨ ê·¼ê±°

### 1. í˜„ê¸ˆ ì…ê¸ˆ ìœ í˜• (SHAP: +68,413)
- **ìœ„í—˜ ìš”ì†Œ**: ì••ë„ì ìœ¼ë¡œ ë†’ì€ í˜„ê¸ˆ ì…ê¸ˆ ì˜í–¥ë ¥
- **íŒ¨í„´ ë¶„ì„**: ê°€ì¥ ìœ„í—˜í•œ ìˆ˜ì¤€ì˜ í˜„ê¸ˆ ì…ê¸ˆ íŒ¨í„´
- **ì¼ë°˜ì  ê±°ë˜ì™€ì˜ ì°¨ì´**: ì •ìƒì ì¸ í˜„ê¸ˆ ì…ê¸ˆê³¼ ë¹„êµ ë¶ˆê°€ëŠ¥í•œ ìˆ˜ì¤€

### 2. ê²°ì œ ê±°ë˜ ìœ í˜• (SHAP: +53,484)
- **ìœ„í—˜ ìš”ì†Œ**: ê²°ì œ ê±°ë˜ì™€ í˜„ê¸ˆ ì…ê¸ˆì˜ ë³µí•©ì  ìœ„í—˜
- **íŒ¨í„´ ë¶„ì„**: ì´ì¤‘ ì‚¬ê¸° êµ¬ì¡°ë¡œ, í˜„ê¸ˆ ì…ê¸ˆ í›„ ê²°ì œ ê±°ë˜ë¡œ ìê¸ˆ ì´ë™
- **ì‚¬ê¸° ê¸°ë²•**: "ë ˆì´ì–´ë§" ê¸°ë²•ì„ í†µí•œ ìê¸ˆ ì„¸íƒ ì˜ë„

### 3. ì†¡ê¸ˆì¸ ê³„ì¢Œ ì”ì•¡ (SHAP: -46,158)
- **ìœ„í—˜ ìš”ì†Œ**: ìŒì˜ SHAP ê°’ìœ¼ë¡œ ì¸í•œ ìœ„í—˜ë„ ì¦ê°€
- **íŒ¨í„´ ë¶„ì„**: ë†’ì€ ì”ì•¡ì´ ì˜¤íˆë ¤ ì‚¬ê¸° ê°€ëŠ¥ì„±ì„ ë†’ì´ëŠ” íŠ¹ìˆ˜í•œ ê²½ìš°
- **ì¼ë°˜ì  ê±°ë˜ì™€ì˜ ì°¨ì´**: ì •ìƒì ì¸ ê³ ì”ì•¡ ê³„ì¢Œì™€ëŠ” ë‹¤ë¥¸ íŒ¨í„´

## ğŸ“Š SHAP ë¶„ì„ ê²°ê³¼
ì´ ê±°ë˜ëŠ” ì„¸ ê°€ì§€ ì£¼ìš” ìœ„í—˜ ìš”ì†Œê°€ ëª¨ë‘ ê·¹ë„ë¡œ ë†’ì€ ìˆ˜ì¹˜ë¥¼ ë³´ì´ë©°, íŠ¹íˆ í˜„ê¸ˆ ì…ê¸ˆê³¼ ê²°ì œ ê±°ë˜ì˜ ë³µí•©ì  ìœ„í—˜ì´ íŠ¹ì§•ì…ë‹ˆë‹¤. ì´ëŠ” ì •êµí•œ ìê¸ˆ ì„¸íƒ ê¸°ë²•ì„ ì‚¬ìš©í•œ ì¡°ì§ì  ì‚¬ê¸°ì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.

## ğŸ›¡ï¸ ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­
1. **ê¸´ê¸‰ ì¡°ì¹˜**: ì¦‰ì‹œ ëª¨ë“  ê´€ë ¨ ê³„ì¢Œ ë™ê²°
2. **ìˆ˜ì‚¬ ê¸°ê´€ ì—°ë½**: ê¸ˆìœµìˆ˜ì‚¬ëŒ€ ë° ê²€ì°°ì²­ ì—°ë½
3. **êµ­ì œ í˜‘ë ¥**: FATF ë° êµ­ì œ ê¸ˆìœµ ì •ë³´ ê¸°êµ¬ì— ì •ë³´ ê³µìœ 
4. **ê³ ê° ë³´í˜¸**: í”¼í•´ì ë³´í˜¸ ë° í”¼í•´ ìµœì†Œí™” ì¡°ì¹˜

## ğŸ“ˆ í–¥í›„ ëª¨ë‹ˆí„°ë§
- êµ­ì œì  ì‚¬ê¸° ì¡°ì§ í™œë™ íŒ¨í„´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•
- ë³µí•©ì  ìœ„í—˜ ìš”ì†Œë¥¼ ê°€ì§„ ê±°ë˜ì˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- êµ­ì œ ê¸ˆìœµê¸°ê´€ê³¼ì˜ ì •ë³´ ê³µìœ  ì²´ê³„ ê°•í™”`,
        },
      };

      async function generateReport() {
        const transactionId = document.getElementById("transactionId").value;
        const reportType = document.getElementById("reportType").value;

        if (!transactionId) {
          alert("ê±°ë˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
          return;
        }

        // ë¡œë”© í‘œì‹œ
        document.getElementById("loading").style.display = "block";
        document.getElementById("reportResult").style.display = "none";
        document.querySelector(".generate-btn").disabled = true;

        try {
          // Flask API í˜¸ì¶œ
          const response = await fetch(
            "http://localhost:5001/api/generate-report",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                transaction_id: transactionId,
                report_type: reportType,
              }),
            }
          );

          const data = await response.json();

          if (data.success) {
            const report = {
              title: `ê±°ë˜ #${transactionId} ${
                reportType === "detailed"
                  ? "ìƒì„¸ ë¶„ì„"
                  : reportType === "executive"
                  ? "ê²½ì˜ì§„ ìš”ì•½"
                  : "ê·œì œ ê¸°ê´€"
              } ë³´ê³ ì„œ`,
              content: data.content,
            };
            displayReport(report);
          } else {
            alert(
              "ë³´ê³ ì„œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: " + (data.error || "ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜")
            );
          }
        } catch (error) {
          console.error("API í˜¸ì¶œ ì˜¤ë¥˜:", error);
          alert(
            "ì„œë²„ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. Flask ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”."
          );
        } finally {
          document.getElementById("loading").style.display = "none";
          document.querySelector(".generate-btn").disabled = false;
        }
      }

      function generateAIReport(transactionId, reportType) {
        const baseReport = sampleReports[transactionId];
        let report = baseReport.content;

        // ë³´ê³ ì„œ ìœ í˜•ì— ë”°ë¥¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•
        if (reportType === "executive") {
          report = report.replace("## ğŸš¨ ìœ„í—˜ë„ ìš”ì•½", "## ğŸ“Š ê²½ì˜ì§„ ìš”ì•½");
          report = report.replace(
            "## ğŸ” ì£¼ìš” íŒë‹¨ ê·¼ê±°",
            "## ğŸ¯ í•µì‹¬ ìœ„í—˜ ìš”ì†Œ"
          );
          report = report.replace(
            "## ğŸ“Š SHAP ë¶„ì„ ê²°ê³¼",
            "## ğŸ“ˆ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥"
          );
          report = report.replace(
            "## ğŸ›¡ï¸ ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­",
            "## ğŸ’¼ ê²½ì˜ì§„ ê¶Œê³ ì‚¬í•­"
          );
          report = report.replace("## ğŸ“ˆ í–¥í›„ ëª¨ë‹ˆí„°ë§", "## ğŸ”® ì „ëµì  ë°©í–¥");
        } else if (reportType === "regulatory") {
          report = report.replace("## ğŸš¨ ìœ„í—˜ë„ ìš”ì•½", "## âš ï¸ ê·œì œ ì¤€ìˆ˜ ìš”ì•½");
          report = report.replace(
            "## ğŸ” ì£¼ìš” íŒë‹¨ ê·¼ê±°",
            "## ğŸ“‹ ê·œì œ ìœ„ë°˜ ìš”ì†Œ"
          );
          report = report.replace(
            "## ğŸ“Š SHAP ë¶„ì„ ê²°ê³¼",
            "## ğŸ“Š ê·œì œ ì¤€ìˆ˜ ë¶„ì„"
          );
          report = report.replace(
            "## ğŸ›¡ï¸ ê¶Œì¥ ì¡°ì¹˜ì‚¬í•­",
            "## ğŸ“ ê·œì œ ê¸°ê´€ ë³´ê³  ìš”í•­"
          );
          report = report.replace(
            "## ğŸ“ˆ í–¥í›„ ëª¨ë‹ˆí„°ë§",
            "## ğŸ” ê·œì œ ê°ë… ê³„íš"
          );
        }

        return {
          title: baseReport.title,
          content: report,
        };
      }

      function displayReport(report) {
        document.getElementById("reportContent").innerHTML = report.content;
        document.getElementById("reportResult").style.display = "block";
      }

      function loadSampleReport(transactionId) {
        document.getElementById("transactionId").value = transactionId;
        const report = sampleReports[transactionId];
        displayReport(report);
      }

      function downloadReport() {
        const content = document.getElementById("reportContent").innerText;
        const blob = new Blob([content], { type: "text/plain" });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "ì‚¬ê¸°íƒì§€_ë³´ê³ ì„œ.txt";
        a.click();
        window.URL.revokeObjectURL(url);
      }

      function copyReport() {
        const content = document.getElementById("reportContent").innerText;
        navigator.clipboard.writeText(content).then(() => {
          alert("ë³´ê³ ì„œê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
        });
      }
    </script>
  </body>
</html>
